# OpenRoboBrain å¾…åŠä»»åŠ¡

## é‡Œç¨‹ç¢‘çŠ¶æ€

| é‡Œç¨‹ç¢‘ | çŠ¶æ€ |
|--------|------|
| M1 æ ¸å¿ƒæ¡†æ¶ | âœ… å®Œæˆ |
| M2 æ™ºèƒ½ç®¡çº¿ | âœ… å®Œæˆ |
| M3 MuJoCo G1 ä»¿çœŸ | âœ… å®Œæˆ |
| M4 è‡ªç„¶å¯¹è¯ | ğŸ”¨ è¿›è¡Œä¸­ |

---

## å·²å®Œæˆ: M3 â†’ main åˆå…¥

- [x] Cherry-pick bug fixes + ASR/TTS + æ–‡æ¡£åˆ° master (commit d458305)

---

## M4: è‡ªç„¶å¯¹è¯ (è¿›è¡Œä¸­, feature/m4-natural-dialogue)

### Phase 4.2: è‡ªç„¶å¯¹è¯ (èƒ½åŠ›å±‚ cognition/) â€” åŸºç¡€å®Œæˆ

- [x] **D-210** LanguageUnderstanding è‡ªç”±æ¨ç†å¼ç†è§£
  - æ–‡ä»¶: `orb/capability/cognition/understanding.py`
  - å®ç°: LLM æ€ç»´é“¾æ¨ç†ï¼Œæ— æšä¸¾åˆ†ç±»ï¼ŒUnderstanding æ•°æ®ç»“æ„
  - 9 ä¸ªé›†æˆæµ‹è¯•é€šè¿‡

- [x] **D-211** æ„å›¾-è¡ŒåŠ¨åˆ†ç¦»æ¶æ„
  - core.py é‡æ„: LanguageUnderstanding(è®¤çŸ¥èƒ½åŠ›) æ¨ç† â†’ OA(Agentå±‚) ç¼–æ’
  - OrchestratorAgent.execute_understanding() æ¥æ”¶æ¨ç†ç»“æœ
  - æ¶ˆé™¤äº†"LLM å¿…é¡»åŒæ—¶ç†è§£+ç”ŸæˆJSON"çš„é—®é¢˜

- [x] **D-212** å®Œæ•´æ¨ç†é“¾æ—¥å¿—
  - trace_id ä¸²è”å®Œæ•´å†³ç­–é“¾è·¯
  - reasoning å­˜å…¥è®°å¿†ç³»ç»Ÿ

- [ ] **D-213** å¤šè½®æ¾„æ¸…å®Œå–„
  - ä¼˜å…ˆçº§: P1

- [ ] **D-214** å¯¹è¯è®°å¿†æŒä¹…åŒ–
  - DialogueContext è·¨ä¼šè¯ä¿æŒ
  - ä¼˜å…ˆçº§: P1

### Phase 4.1: è®¤çŸ¥èƒ½åŠ› (èƒ½åŠ›å±‚ cognition/) â€” å¾…å¼€å‘

- [ ] **D-200** ä¸–ç•Œæ¨¡å‹ (WorldModel)
  - æ–‡ä»¶: `orb/capability/cognition/world_model.py`
  - ä»»åŠ¡: ç»“æ„åŒ–åœºæ™¯å›¾ (ç‰©ä½“/äºº/ç©ºé—´å…³ç³»/çŠ¶æ€)
  - ä¼˜å…ˆçº§: P0

- [ ] **D-201** ç›®æ ‡ç®¡ç†ç³»ç»Ÿ (GoalManager)
  - æ–‡ä»¶: `orb/capability/cognition/goal_manager.py`
  - ä»»åŠ¡: åˆ†å±‚ç›®æ ‡æ ˆ (é•¿æœŸ â†’ å½“å‰ â†’ å³æ—¶)
  - ä¼˜å…ˆçº§: P0

- [ ] **D-202** è®¤çŸ¥å¾ªç¯ (CognitiveLoop)
  - æ–‡ä»¶: `orb/capability/cognition/cognitive_loop.py`
  - ä»»åŠ¡: æŒç»­è¿è¡Œçš„æ„ŸçŸ¥-æ¨ç†-è¡ŒåŠ¨å¾ªç¯
  - ä¼˜å…ˆçº§: P0

- [ ] **D-203** è‡ªæˆ‘åæ€ (Reflection)
  - æ–‡ä»¶: `orb/capability/cognition/reflection.py`
  - ä¼˜å…ˆçº§: P1
  - ä¼˜å…ˆçº§: P1

- [ ] **D-212** éšå«æ„å›¾æ¨ç†
  - ä»»åŠ¡: "è¿™é‡Œå¥½æš—" â†’ æ¨ç†å‡ºå¼€ç¯, "å¥½æ¸´" â†’ æ¨ç†å‡ºå€’æ°´
  - åŸºäºä¸–ç•Œæ¨¡å‹ + å¸¸è¯†æ¨ç†
  - ä¼˜å…ˆçº§: P2

### Phase 4.3: å¤šæ¨¡æ€æ„ŸçŸ¥ (èƒ½åŠ›å±‚ perception/ + Agentå±‚ atomic/)

- [ ] **D-220** è§†è§‰ç†è§£æ¨¡å—
  - æ–‡ä»¶: `orb/agent/atomic/vision/image_understand.py` (å·²æœ‰æ¡†æ¶)
  - ä»»åŠ¡: é›†æˆè§†è§‰æ¨¡å‹ (YOLO/CLIP/LLaVA)
  - ä¼˜å…ˆçº§: P1

- [ ] **D-221** ASR å¢å¼º
  - ä»»åŠ¡: æ‰“æ–­æ”¯æŒã€å®æ—¶æµå¼è¯†åˆ«ã€å¤šè¯­è¨€
  - å¯é€‰: CosyVoice é«˜è´¨é‡ä¸­æ–‡ TTS æ›¿ä»£ edge-tts
  - ä¼˜å…ˆçº§: P2

- [ ] **D-222** ç©ºé—´æ„ŸçŸ¥
  - ä»»åŠ¡: è¯­ä¹‰åœ°å›¾ (ä¸åªéšœç¢ç‰©ï¼Œè€Œæ˜¯"å¨æˆ¿çš„æ¡Œå­")
  - ä¼˜å…ˆçº§: P2

### Phase 4.4: ç»éªŒå­¦ä¹  (æ•°æ®å±‚ memory/)

- [ ] **D-230** æƒ…æ™¯è®°å¿† (EpisodicMemory)
  - æ–‡ä»¶: `orb/data/memory/episodic_memory.py`
  - ä»»åŠ¡: ä»äº‹ä»¶åˆ—è¡¨å‡çº§ä¸ºå› æœé“¾å™äº‹
  - ä¼˜å…ˆçº§: P1

- [ ] **D-231** æŠ€èƒ½ä¹ å¾—
  - ä»»åŠ¡: ä»é‡å¤æˆåŠŸæ‰§è¡Œä¸­æå–æŠ€èƒ½æ¨¡å¼
  - å¯å¤ç”¨ã€ç»„åˆã€è¿ç§»
  - ä¼˜å…ˆçº§: P2

- [ ] **D-232** å‘é‡æ£€ç´¢
  - æ–‡ä»¶: `orb/data/storage/vector.py`
  - ä»»åŠ¡: è¯­ä¹‰æœç´¢ (ChromaDB æˆ– SQLite+Embeddings)
  - ä¼˜å…ˆçº§: P1

---

## M5: ç¡¬ä»¶é›†æˆ

- [ ] **D-300** ROS2 çœŸå®èŠ‚ç‚¹
- [ ] **D-301** è¯é¢˜å‘å¸ƒ/è®¢é˜…
- [ ] **D-302** ä¼ æ„Ÿå™¨é©±åŠ¨æ¡†æ¶
- [ ] **D-303** æ‰§è¡Œå™¨æ§åˆ¶æ¡†æ¶
- [ ] **D-304** Sim2Real ç­–ç•¥è¿ç§»
- [ ] **D-305** å®‰å…¨ç³»ç»Ÿ (ç¢°æ’/æ€¥åœ)

---

## å·²å®Œæˆ

### M1 æ ¸å¿ƒæ¡†æ¶
- [x] ä¸ƒå±‚æ¶æ„è®¾è®¡ï¼ˆå«è¡Œä¸ºå±‚ï¼‰
- [x] Agent ç³»ç»Ÿ (Super/Orchestrator/Atomic)
- [x] æ¶ˆæ¯æ€»çº¿ + é…ç½®ä¸­å¿ƒ
- [x] LLM Provider (OpenAI/Anthropic/Ollama/Kimi/GLM/Qwen/DeepSeek/Doubao)
- [x] å·¥å…·ç³»ç»Ÿ (File/Shell/HTTP/Memory)
- [x] SQLite å­˜å‚¨é€‚é…å™¨

### M2 æ™ºèƒ½ç®¡çº¿
- [x] AgentLoop ReAct å¾ªç¯
- [x] LLMInferenceAdapter (æµå¼/éæµå¼)
- [x] MemoryRanker (5ä¿¡å·ç±»äººæ’åº)
- [x] SessionCompactor (è‡ªåŠ¨å‹ç¼©)
- [x] ToolPolicy æƒé™ç³»ç»Ÿ
- [x] TaskDecomposer ä»»åŠ¡æ‹†è§£
- [x] CLI äº¤äº’ç•Œé¢

### M3 MuJoCo G1 ä»¿çœŸ
- [x] Ollama è‡ªåŠ¨æ£€æµ‹ + æœ¬åœ° LLM
- [x] WebSocket å‘½ä»¤å¹¿æ’­å™¨ (å«é‡è¯•/ç«¯å£å›é€€)
- [x] ROS2 æŠ¥æ–‡ç›‘æ§ç»ˆç«¯
- [x] MuJoCo G1 ä»¿çœŸç»ˆç«¯ (unitree_rl_gym ç­–ç•¥)
- [x] ä¸‰ç»ˆç«¯å¯åŠ¨è„šæœ¬
- [x] å‘½ä»¤é˜Ÿåˆ—ç³»ç»Ÿ (EXECâ†’QUEUEâ†’NEXTâ†’DONE)
- [x] å‚æ•°é©±åŠ¨é€Ÿåº¦ + ç»„åˆè¿åŠ¨ (circle/spin)
- [x] ç»“æ„åŒ– LLM æç¤ºè¯ (åŸå­åŠ¨ä½œè¡¨)
- [x] å¥å£® JSON è§£æ (æ··åˆæ ¼å¼æ”¯æŒ)
- [x] ASR (faster-whisper) è¯­éŸ³è¯†åˆ«
- [x] TTS (edge-tts) è¯­éŸ³åˆæˆ
- [x] CLI --voice è¯­éŸ³å¯¹è¯æ¨¡å¼

### Bug Fixes (M3 æœŸé—´)
- [x] memory.py register â†’ registry.register
- [x] bridge to_dict() snake_case/camelCase åŒæ ¼å¼
- [x] stream_handler é˜Ÿåˆ—æº¢å‡ºå¤„ç†
- [x] broadcaster ç«¯å£é‡è¯•/reuse_address
- [x] requirements.txt ollama ä¾èµ–

### æµ‹è¯•
- [x] 219+ å•å…ƒ/é›†æˆæµ‹è¯•é€šè¿‡
- [x] ç«¯åˆ°ç«¯æµ‹è¯• (LLM + ä»¿çœŸ + WebSocket)

---

## å¤‡æ³¨

- ä»»åŠ¡ID: D-å¼€å‘, T-æµ‹è¯•, MERGE-åˆå…¥, DOC-æ–‡æ¡£
- ä¼˜å…ˆçº§: P0 é˜»å¡æ€§ / P1 é‡è¦ / P2 ä¸€èˆ¬
- æ‰€æœ‰æ–°èƒ½åŠ›åœ¨ç°æœ‰ä¸ƒå±‚æ¶æ„çš„**èƒ½åŠ›å±‚**ä¸­å®ç°ï¼Œä¸æ›¿æ¢æ¶æ„
